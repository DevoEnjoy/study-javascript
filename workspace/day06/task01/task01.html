<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>요금표</title>
    <link rel="stylesheet" href="task01.css">
</head>
<style>
    table tr td {
        width: 100px;
    }

    table th {
        background-color: bisque;
    }

    table tr {
        text-align: center;
    }
</style>

<body style="max-width: 50vw;">
    <main>
        <table border="1" style="margin: 0 auto; width: 50vw;">
            <caption>
                요금표
            </caption>
            <thead>
                <tr id="head" class="selection">
                    <th>구분</th>
                    <th>요금</th>
                </tr>
            </thead>
            <tbody>
                <tr id="kid" class="selection">
                    <td id="kidText">아동</td>
                    <td>무료</td>
                </tr>
                <tr id="teen" class="selection">
                    <td id="teenText">청소년</td>
                    <td>2000원</td>
                </tr>
                <tr id="adult" class="selection">
                    <td id="adultText">성인</td>
                    <td>5000원</td>
                </tr>
            </tbody>
        </table>

        <form action="" style="width: 50vw;">
            <fieldset style="width: 50vw; text-align: center;">
                <legend>구분</legend>
                <div style="width: inherit;">
                    <input id="input" type="text" name="kind" value="" autocomplete="off">
                    <label>
                        <input id="submit" type="button" value="확인">
                    </label>
                </div>
            </fieldset>

        </form>
    </main>
</body>
<script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
<script>
    $(document).ready(function () {
        const inputText = $("#input");
        const inputButton = $("#submit");
        const trKid = $("#kid");
        const tdKid = $("#kidText");
        const trTeen = $("#teen");
        const tdTeen = $("#teenText");
        const trAdult = $("#adult");
        const tdAdult = $("#adultText");
        const arTrs = $("tbody tr");
        // const arTds = $("tbody tr").map(tr => $(tr).first());
        // const arTds = arTrs.each()
        inputButton.click(function () {
            let content = inputText.val();
            let tempTr, tempTd;
            arTrs.css("background-color", "rgb(255,255,255)");
            arTrs.each((i, td) => {
                // td.firstChild().innerHTML().replace("★", "");
                let $td = $(td);
                // $td.first.text().replace("★", "");
                $td.find("td:eq(0)").text().replace("★", "");
                // $(td).first("★", "");
                // console.log($(td).find("td:eq(0)").text());
                // console.log($(td).text());
            });

            tdKid.html("아동");
            tdTeen.html("청소년");
            tdAdult.html("성인");

            switch (content) {
                case "아동":
                    tempTr = trKid;
                    tempTd = tdKid;
                    // trKid.css("background-color", "#ef5350");
                    // tdKid.html("★아동");
                    break;
                case "청소년":
                    tempTr = trTeen;
                    tempTd = tdTeen;
                    // trTeen.css("background-color", "#ef5350");
                    // tdTeen.html("★청소년");
                    break;
                case "성인":
                    tempTr = trAdult;
                    tempTd = tdAdult;
                    // trAdult.css("background-color", "#ef5350");
                    // tdAdult.html("★성인");
                    break;
                default:
                    alert("다시 시도해주세요");
                    inputText.val("");
            }
            if(tempTr){
                tempTr.css("background-color", "#ef5350");
                tempTd.html("★" + content);
            }
        });
    });
</script>
<!-- <script>
    //  input[type=text]
const $inputText = $("#input");

//  input[type=button]
const $inputButton = $("#submit");

//  tr[id=kid]
const $trKid = $("#kid");

//  td[id=kidText] value='아동'
const $tdKid = $('#kidText');

//  tr[id=teen]
const $trTeen = $("#teen");

//  td[id=teen] value='청소년'
const $tdTeen = $('#teenText')

//  tr[id=adult] 
const $trAdult = $("#adult");

//  td[id=adultText] value='성인'
const $tdAdult = $("#adultText");

//  {trKid, trTeen, trAdult}
const $arTrs = $("tbody tr");

const $arTds = $("tbody tr").each((i, tr) => tr.firstChild);

// const trs = { trKid, trTeen, trAdult };
// with (console) {
//     log(tdKid.innerHTML);
// }

$inputButton.click(() => {
    let content = $inputText.val();
    let temptr, $temptd;
    $arTrs.each((i, tr) => $(tr).css('background-color', 'rgb(255,255,255)'));
    // trKid.style.backgroundColor = 'rgb(255,255,255)';
    // trTeen.style.backgroundColor = 'rgb(255,255,255)';
    // trAdult.style.backgroundColor = 'rgb(255,255,255)';
    // arTds.each((i, td) => td.text.replace("★", ""));
    $arTds.each((i, $td) => $td.innerHTML.replace("★", ""));
    // $tdKid.text = '아동';
    // $tdTeen.text = '청소년';
    // $tdAdult.text = '성인';
    // console.log(content);
    switch (content) {
        case '아동':
            temptr = $trKid;
            $temptd = $tdKid;
            $temptd.text = '★' + $temptd.text;
            // tdTeen.innerHTML = '청소년';
            // tdAdult.innerHTML = '성인';
            break;
        case '청소년':
            temptr = $trTeen;
            $temptd = $tdTeen;
            $temptd.text = '★' + $temptd.text;
            // trTeen.css('background-color','#ef5350');
            // tdTeen.val = '★청소년';
            // tdKid.innerHTML = '아동';
            // tdAdult.innerHTML = '성인';
            break;
        case '성인':
            temptr = $trAdult;
            $temptd = $tdAdult;
            $temptd.text = '★' + $temptd.text;
            // trAdult.css('background-color','#ef5350');
            // tdAdult.val = '★성인';
            // tdKid.innerHTML = '아동';
            // tdTeen.innerHTML = '청소년';
            break;
        default:
            alert("다시 시도해주세요");
            $inputText.val("");
            break;
    }
    if(temptr){
        temptr.css('background-color','#ef5350');
        // content = "★" + content;
        // tdKid.text = '아동';
        // tdTeen.text = '청소년';
        // tdAdult.text = '성인';
        // console.log(temptd);
        // temptd.val = "★" + content;
        // temptd.text = '★' + temptd.text;
        // console.log(temptd.val);
        // console.log(temptd.text);

        $temptd.text.replace($temptd.text, '★' + $temptd.text);
    }
});
</script> -->

</html>